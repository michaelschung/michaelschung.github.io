(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function o(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=o(r);fetch(r.href,a)}})();function O(e,t,o,l){e.camera(t.x,t.y,t.z,o.x,o.y,o.z,l.x,l.y,l.z)}function Z(e){e%=80;let t=Math.floor(e/80*24)%24,o=Math.round((e-t*80/24)*18%60),l=t%12===0?"12":String(t%12),r=String(o).padStart(2,0),a=t<12?"AM":"PM",n="";return e===0?n=`
(midnight)`:e===40&&(n=`
(noon)`),`${l}:${r} ${a}${n}`}function v(e,t,o,l,r=!1){let a=l.elt.max-l.elt.min,n=t.copy(),i=o.copy(),s=e.map(l.value(),l.elt.min,l.elt.max,0,1);return r&&(l.value()<a/2?(n=t.copy(),i=e.createVector(1,1,0),s=e.map(l.value(),l.elt.min,a/2,0,1)):(n=e.createVector(1,1,0),i=e.createVector(0,1,0),s=e.map(l.value()-a/2,l.elt.min,a/2,0,1))),n.copy().lerp(i,s)}function W(e){let t=e.mouseX>=0&&e.mouseX<e.width,o=e.mouseY>=0&&e.mouseY<e.height;return t&&o}function I(e,t,o,l,r=[0,0]){let a=e.createVector(t.centerX,t.centerY,t.centerZ),n=e.createVector(t.eyeX,t.eyeY,t.eyeZ),i=a.sub(n).normalize(),s=n.copy().add(i.mult(100));e.textSize(l),B(e,t,o,s,e.CENTER,r)}function B(e,t,o,l,r=null,a=[0,0]){e.push(),r&&e.textAlign(r),e.translate(l),D(e,t);let n=e.textWidth(o),i=e.textAscent(),s=r==e.CENTER?0:-n/2+a[0],c=i/2+a[1];e.text(o,s,c),e.pop()}function $(e,t){let o=t,l=e.createVector(1,1,1),r=o.cross(l).normalize(),a=o.cross(r).normalize(),n=[r.x,r.y,r.z,0,a.x,a.y,a.z,0,o.x,o.y,o.z,0,0,0,0,1];e.applyMatrix(...n)}function D(e,t,o=[1,1,1]){let l=e.createVector(t.eyeX,t.eyeY,t.eyeZ),r=e.createVector(-t.upX,-t.upY,-t.upZ),i=e.createVector(t.centerX,t.centerY,t.centerZ).copy().sub(l).normalize().copy().mult(-1);i.normalize().mult(o[2]);let s=i.copy().cross(r);s.normalize().mult(o[0]);let c=i.copy().cross(s);c.normalize().mult(o[1]);let d=[s.x,s.y,s.z,0,c.x,c.y,c.z,0,i.x,i.y,i.z,0,0,0,0,1];e.applyMatrix(...d)}class E{constructor(t,o,l){this.p=t,this.fam=o,this.isTTF=l,this.fonts=this.loadFonts()}loadFonts(){const[t,o]=[this.p,this.fam];let l=this.isTTF?".ttf":".otf";console.log("NODE_ENV: undefined");let a="",n=t.loadFont(`${a}/assets/${o}/${o}-Regular${l}`),i=t.loadFont(`${a}/assets/${o}/${o}-Bold${l}`),s=t.loadFont(`${a}/assets/${o}/${o}-Italic${l}`),c=t.loadFont(`${a}/assets/${o}/${o}-BoldItalic${l}`);return[n,i,s,c]}regular(){return this.fonts[0]}bold(){return this.fonts[1]}italic(){return this.fonts[2]}bolditalic(){return this.fonts[3]}}class J{constructor(t,o,l,r){this.p=t,this.pos=o,this.dir=l,this.size=r}draw(){const[t,o,l,r]=[this.p,this.pos,this.dir,this.size];t.push(),t.fill(255,0,0),t.stroke(255,0,0),l.normalize(),t.translate(o);let a=t.atan2(l.z,l.y);t.rotateX(a);let n=0;l.y!==1&&l.y!==-1&&(n=t.atan2(l.x,l.y),t.rotateZ(n)),t.strokeWeight(r/5),t.line(0,0,0,0,-r,0),t.strokeWeight(0),t.translate(0,-r,0),t.rotateX(t.PI),t.cone(r/4,r/2,10),t.pop()}}class M{constructor(t,o,l,r,a=80,n=null){this.p=t,this.pos=o||t.createVector(0,0,0),this.r=l,this.color=t.color(255),this.rot=r,this.res=t.TWO_PI/a,this.light=n||t.PI,this.shadowOn=!1,this.shadowColor=t.color(50,150)}instanceVars(){return[this.p,this.pos,this.r,this.color,this.rot,this.res,this.light]}draw(){const[t,o,l,r,a,n,i]=this.instanceVars();t.push(),t.translate(o),oe(t,l,r,a,n,i),t.pop()}drawShadow(t){const[o,l,r,a,n,i,s]=this.instanceVars();o.push(),o.translate(l),o.rotateY(o.PI-s),o.rotateZ(-o.HALF_PI),o.translate(0,t/2,0),o.fill(this.shadowColor),o.cylinder(r+1,t),o.pop()}rotate(t){this.rot=(this.rot-t*this.res)%this.p.TWO_PI}showShadow(){this.shadowOn=!0}hideShadow(){this.shadowOn=!1}drawPerson(t=!1){const[o,l,r,a,n,i,s]=this.instanceVars();t&&(o.push(),o.translate(l),o.rotateY(-n),o.translate(r,0,0),o.fill(255,255,0,30),$(o,o.createVector(0,0,0).sub(l)),o.circle(0,0,r*6),o.pop()),o.push(),o.translate(l),o.rotateY(-n),o.translate(r+2,0,0),o.fill("red"),o.sphere(4),o.pop()}}class C extends M{constructor(t,o,l,r,a=80,n=0){super(t,o,l,r,a,n),this.color=t.color(200)}}class A extends M{constructor(t,o,l,r,a=80,n=0){super(t,o,l,r,a,n),this.color=t.color(4,21,207),this.shadowColor=t.color(30,200)}}class H extends M{constructor(t,o,l,r,a=80){super(t,o,l,r,a,-1),this.color=t.color("orange")}}function p(e,t){return e.color(e.red(t)*.15,e.green(t)*.15,e.blue(t)*.15)}function ee(e,t,o){let l=e.random(-5,o);return e.color(e.red(t)+l,e.green(t)+l,e.blue(t)+l)}function te(e,t,o){if(o<0)return!0;let l=Math.abs(t-o)%e.TWO_PI;return l>e.PI&&(l=e.TWO_PI-l),l<e.PI/2}function oe(e,t,o,l,r,a){e.beginShape(e.TRIANGLES);for(let n=l;n<l+e.TWO_PI;n+=r){let i=te(e,n+r/2,a)?o:p(e,o);for(let s=-e.PI/2;s<e.PI/2;s+=r){let c=e.cos(s)*e.cos(n)*t,d=e.sin(s)*t,h=e.cos(s)*e.sin(n)*t,m=e.cos(s+r)*e.cos(n)*t,P=e.sin(s+r)*t,V=e.cos(s+r)*e.sin(n)*t,y=e.cos(s)*e.cos(n+r)*t,f=e.sin(s)*t,u=e.cos(s)*e.sin(n+r)*t,w=e.cos(s+r)*e.cos(n+r)*t,g=e.sin(s+r)*t,b=e.cos(s+r)*e.sin(n+r)*t;e.shininess(10),e.fill(ee(e,i,5)),e.vertex(c,d,h),e.vertex(m,P,V),e.vertex(y,f,u),e.vertex(y,f,u),e.vertex(m,P,V),e.vertex(w,g,b)}}e.endShape()}class S{constructor(t,o,l,r,a){this.p=t,this.pri=o,this.sat=l,this.r=r,this.tilt=a.normalize(),this.rev=t.HALF_PI,this.showOrbitPath=!1,this.showPrimary=!0}instanceVariables(){return[this.p,this.pri,this.sat,this.r,this.tilt,this.rev]}calculateCoords(){const[t,o,l,r,a,n]=this.instanceVariables();let i=a,s=t.createVector(1,0,0),c=i.cross(s).normalize(),d=i.cross(c).normalize(),h=c.mult(r*t.cos(n)),m=d.mult(r*t.sin(n));return o.pos.copy().add(h).add(m)}render(){const[t,o,l,r,a,n]=this.instanceVariables();this.showOrbitPath&&this.drawOrbit(),this.showPrimary&&o.draw(),l.pos=this.calculateCoords(),l.draw()}revolve(t){this.rev-=t}drawOrbit(){const[t,o,l,r,a,n]=this.instanceVariables();t.push(),t.translate(o.pos),$(t,a),t.fill(255,255,255,30),t.strokeWeight(.5),t.torus(r,1,50),t.pop()}drawOrbitalPlane(t){const[o,l,r,a,n,i]=this.instanceVariables();o.push(),o.translate(l.pos),$(o,n),o.fill(t);let s=a*3;o.circle(0,0,s),o.pop()}showOrbit(){this.showOrbitPath=!0}hideOrbit(){this.showOrbitPath=!1}setOrbitAngle(t){this.rev=t}}const T=document.getElementById("main").getBoundingClientRect().width,re=e=>{let t,o=-e.HALF_PI,l=e.TWO_PI/80;e.setup=()=>{e.createCanvas(T,T*2/3,e.WEBGL),e.noStroke(),e.frameRate(10);let r=e.createVector(0,0,0);t=new C(e,r,100,0)},e.draw=()=>{e.background(0),e.randomSeed(1),e.rotateY(o),o-=l,t.draw(),t.rotate(1)}},le=e=>{let t,o,l,r,a=e.TWO_PI/80,n,i;e.preload=()=>{i=new E(e,"Roboto",!0)},e.setup=()=>{e.createCanvas(T,T*2/3,e.WEBGL),e.noStroke(),e.frameRate(10);let s=e.createVector(0,0,0);t=new A(e,s,40,0,80),o=new C(e,null,10,0,80),l=new S(e,t,o,180,e.createVector(0,-1,0)),l.showOrbit(),r=e.createCamera(),r.camera(0,-400,0,0,0,0,0,0,1);let c=e.createVector(-250,0,0),d=e.createVector(-1,0,0);n=new J(e,c,d,30),e.textFont(i.regular())},e.draw=()=>{e.background(0),e.randomSeed(1),l.render(),l.revolve(a),t.rotate(28),o.rotate(1),n.draw(),e.textSize(20),e.fill("red"),B(e,r,"Sun",e.createVector(-265,0,20),1)}},ae=e=>{let t,o,l,r,a,n=e.TWO_PI/80,i=0,s=0,c=!1;e.preload=()=>{o=new E(e,"Roboto",!0)},e.setup=()=>{e.createCanvas(T,T,e.WEBGL),e.noStroke(),e.frameRate(10),e.textFont(o.regular()),t=e.createCamera(),t.camera(0,-800,0,0,0,0,0,0,1),e.perspective(e.PI/5,e.width/e.height,.1,1e3);let h=e.createVector(0,0,0);l=new A(e,h,60,0,80),r=new C(e,null,15,0,80),a=new S(e,l,r,200,e.createVector(.1,-1,0)),a.showOrbit()};function d(){let h=i%e.TWO_PI;return h<e.HALF_PI?"new moon":h<e.PI?"first quarter":h<e.PI*3/2?"full moon":"third quarter"}e.draw=()=>{if(e.background(0),e.randomSeed(1),a.render(),c)a.revolve(n),l.rotate(28),r.rotate(1),i+=n,c=i<s;else{e.textSize(15),e.fill("white");let h=l.pos.copy().sub(r.pos),m=r.pos.copy().add(h.mult(.3));B(e,t,d(),m)}e.fill(200),I(e,t,`Click for
next quarter`,2,[0,-7.5])},e.mouseClicked=()=>{W(e)&&!c&&(c=!0,s+=e.HALF_PI)}},z=(e,t)=>o=>{let l,r,a,n,i,s=o.TWO_PI/80,c,d=o.createVector(0,-800,0),h=o.createVector(0,0,0),m=o.createVector(0,0,1),P=!1;o.preload=()=>{r=new E(o,"Roboto",!0)},o.setup=()=>{let u=t?T:T/2;o.createCanvas(u,u,o.WEBGL),o.noStroke(),o.frameRate(10),o.textFont(r.regular()),l=o.createCamera(),O(l,d,h,m),o.perspective(o.PI/5,o.width/o.height,.1,1e3);let w=o.createVector(0,0,0);a=new A(o,w,60,0,80),n=new C(o,null,15,0,80),i=new S(o,a,n,200,o.createVector(0,-1,0)),i.setOrbitAngle(o.HALF_PI-e*o.HALF_PI),i.showOrbit(),c=o.createSlider(0,100,0),c.size(o.width-10)},o.draw=()=>{o.background(0),o.randomSeed(1);let u=o.canvas.getBoundingClientRect();c.position(u.left+window.scrollX+2,u.top+window.scrollY+o.height+10),i.render(),t&&(P?(i.revolve(s),a.rotate(28),n.rotate(1)):(o.fill(200),I(o,l,"Click to start animation",2,[0,-29])));let w=n.pos.copy().sub(a.pos).normalize(),g=a.pos.copy().add(w.mult(a.r+1)),b=n.pos.copy(),x=o.createVector(0,1,0),L=v(o,d,g,c),k=v(o,h,b,c),U=!P&&o.abs(i.rev,o.PI)<o.PI/8,Y=v(o,m,x,c,U);O(l,L,k,Y);let X=n.pos.copy(),K=Y.copy();X.add(K.mult(30));let j=o.map(c.value(),c.elt.min,c.elt.max,20,5);o.textSize(j),B(o,l,f(),X)};function V(u){return o.createVector(-o.sin(u),0,o.cos(u))}function y(u){return V(o.HALF_PI-u/2*o.HALF_PI)}function f(){let u=["new moon","waxing crescent","first quarter","waxing gibbous","full moon","waning gibbous","third quarter","waning crescent"],w=V(i.rev);for(let g=0;g<8;g++)if(w.angleBetween(y(g))<o.PI/8)return u[g];return""}o.mouseClicked=()=>{W(o)&&(P=!P)},o.stopAnimation=()=>{P=!1},o.hideSlider=()=>{c&&c.hide()},o.showSlider=()=>{c&&c.show()}},R=document.getElementById("main").getBoundingClientRect().width,ne=e=>{let t,o,l,r,a,n,i,s,c=e.createVector(0,-1e3,0),d=e.createVector(0,0,0),h=e.createVector(0,0,1);e.preload=()=>{o=new E(e,"Roboto",!0),s=e.createSlider(0,100,0)},e.setup=()=>{e.createCanvas(R,R/3,e.WEBGL),e.noStroke(),e.frameRate(10),e.textFont(o.italic()),t=e.createCamera(),O(t,c,d,h),e.perspective(e.PI/6,e.width/e.height,.1,2e3);let m=e.createVector(-550,0,0);l=new H(e,m,100,0),r=new A(e,null,60,0),a=new C(e,null,15,0),n=new S(e,l,r,950,e.createVector(0,-1,0)),n.rev=-e.HALF_PI,i=new S(e,r,a,200,e.createVector(0,-1,0)),i.rev=-e.HALF_PI,s.size(e.width-10)},e.draw=()=>{e.background(0),e.randomSeed(1);let m=e.canvas.getBoundingClientRect();s.position(m.left+window.scrollX+2,m.top+window.scrollY+e.height+10),e.createVector(t.eyeX,t.eyeY,t.eyeZ).dist(r.pos)>r.r&&(n.render(),i.render()),r.drawShadow(i.r*2),a.draw();let V=l.pos.copy().sub(r.pos),y=e.createVector(r.pos.x+V.x/5,r.pos.y-r.r*1.5,r.pos.z+r.r*2),f=a.pos.copy().sub(r.pos),u=a.pos.copy().sub(f.mult(.5)),w=e.createVector(0,1,0),g=v(e,c,y,s),b=v(e,d,u,s),x=v(e,h,w,s);O(t,g,b,x),e.fill(200),I(e,t,"(Sizes and distances not to scale)",4,[0,20])},e.hideSlider=()=>{s&&s.hide()},e.showSlider=()=>{s&&s.show()}},se=e=>{let t,o,l,r,a,n,i,s,c=e.createVector(0,-1e3,0),d=e.createVector(0,0,0),h=e.createVector(0,0,1);e.preload=()=>{o=new E(e,"Roboto",!0),s=e.createSlider(0,100,0)},e.setup=()=>{e.createCanvas(R,R/3,e.WEBGL),e.noStroke(),e.frameRate(10),e.textFont(o.italic()),t=e.createCamera(),O(t,c,d,h),e.perspective(e.PI/6,e.width/e.height,.1,2e3);let m=e.createVector(-550,0,0);l=new H(e,m,100,0),r=new A(e,null,60,0),a=new C(e,null,15,0),n=new S(e,l,r,950,e.createVector(0,-1,0)),n.rev=-e.HALF_PI,i=new S(e,r,a,190,e.createVector(0,-1,0)),s.size(e.width-10)},e.draw=()=>{e.background(0),e.randomSeed(1);let m=e.canvas.getBoundingClientRect();s.position(m.left+window.scrollX+2,m.top+window.scrollY+e.height+10),e.createVector(t.eyeX,t.eyeY,t.eyeZ).dist(r.pos)>r.r&&(n.render(),i.render()),a.drawShadow(i.r),a.draw();let V=l.pos.copy().sub(r.pos).normalize(),y=r.pos.copy().add(V.mult(r.r+1)),f=a.pos.copy(),u=e.createVector(0,1,0),w=v(e,c,y,s),g=v(e,d,f,s),b=v(e,h,u,s);O(t,w,g,b),e.fill(200),I(e,t,"(Sizes and distances not to scale)",4,[0,20])},e.hideSlider=()=>{s&&s.hide()},e.showSlider=()=>{s&&s.show()}},G=e=>t=>{let o,l,r,a,n,i,s,c=t.TWO_PI/80,d,h=t.createVector(0,-1500,0),m=t.createVector(0,0,0),P=t.createVector(0,0,1),V=!1;t.preload=()=>{l=new E(t,"Roboto",!0),d=t.createSlider(0,100,0)},t.setup=()=>{t.createCanvas(R,R,t.WEBGL),t.noStroke(),t.frameRate(10),t.textFont(l.regular()),o=t.createCamera(),O(o,h,m,P),t.perspective(t.PI/2,t.width/t.height,.1,2e3);let y=t.createVector(0,0,0);r=new H(t,y,100,0),a=new A(t,null,60,0),n=new C(t,null,15,0),i=new S(t,r,a,950,t.createVector(0,-1,0)),i.rev=-t.HALF_PI;let f=t.radians(20),u=e?t.createVector(-t.sin(f),-t.cos(f),0):t.createVector(0,-1,0),w=e?300:190;s=new S(t,a,n,w,u),s.showPrimary=!1,s.showOrbit(),d.size(t.width-10)},t.draw=()=>{t.background(0),t.randomSeed(1);let y=t.canvas.getBoundingClientRect();if(d.position(y.left+window.scrollX+2,y.top+window.scrollY+t.height+10),i.render(),s.render(),a.drawShadow(s.r*2),n.drawShadow(s.r),i.drawOrbitalPlane(t.color(0,150,255,40)),V){let k=c/6;i.revolve(k),s.revolve(k*12),a.light-=k,n.light-=k,a.rotate(12),n.rotate(1)}else t.fill(255,255,255,200),t.textFont(l.regular()),I(t,o,"Click to start animation",5,[0,-90]);let f=r.pos.copy().sub(t.createVector(0,r.r*1.2,0)),u=a.pos.copy(),w=t.createVector(0,1,0),g=v(t,h,f,d),b=v(t,m,u,d),x=v(t,P,w,d);O(o,g,b,x),t.fill(200);let L=e?"(Moon's orbit angle exaggerated to 20°)":"(Sizes and distances not to scale)";t.textFont(l.italic()),I(t,o,L,5,[0,90])},t.mouseClicked=()=>{W(t)&&(V=!V)},t.stopAnimation=()=>{V=!1},t.hideSlider=()=>{d&&d.hide()},t.showSlider=()=>{d&&d.show()}},Q=document.getElementById("main"),F=Q.getBoundingClientRect().width,N=parseFloat(getComputedStyle(Q).fontSize),q=(e,t)=>o=>{let l,r,a,n,i,s,c,d=o.TWO_PI/80,h,m,P,V,y=t;o.preload=()=>{r=new E(o,"Roboto",!0),h=o.createSlider(0,80,0)},o.setup=()=>{o.createCanvas(F,F*2/3,o.WEBGL),o.noStroke(),o.frameRate(10),o.textFont(r.regular()),l=o.createCamera(),o.perspective(o.PI/2,o.width/o.height,.1,1e3),l.ortho(-F/2,F/2,-o.height/2,o.height/2,-1e3,1e3);let u=o.createVector(-200,0,0),w=e===0?30:80;a=new H(o,u,w,0),n=new A(o,null,60,0),i=new C(o,null,15,0);let g=e===0?600:500;s=new S(o,a,n,g,o.createVector(0,-1,0)),s.rev=-o.HALF_PI;let b=o.createVector(0,-1,0);c=new S(o,n,i,200,b),c.setOrbitAngle(o.HALF_PI-e*o.HALF_PI),c.showPrimary=!1,c.showOrbit(),h.size(o.width-10),s.render(),[m,P,V]=f(),O(l,m,P,V)},o.draw=()=>{o.background(0),o.randomSeed(1);let u=o.canvas.getBoundingClientRect();h.position(u.left+window.scrollX+2,u.top+window.scrollY+o.height+10),s.render(),c.render(),n.rot=-(t+h.value())*d,y=t+h.value(),O(l,...f()),n.drawPerson(!0),o.fill(200),o.textFont(r.regular()),I(o,l,Z(y),18,[0,-F*.28]),o.textFont(r.italic()),I(o,l,"(Sizes and distances not to scale)",12,[0,F*.3])},o.stopAnimation=()=>{},o.hideSlider=()=>{h&&h.hide()},o.showSlider=()=>{h&&h.show()};function f(){let u=a.pos.copy().sub(n.pos),w=u.copy().normalize(),g=o.createVector(0,1,0),b=w.copy().cross(g),x=n.pos.copy(),L=e===0;x.sub(w.mult(L?300:-400)).sub(g.mult(L?150:120)).add(b.mult(L?120:150));let k=L?n.pos.copy().add(u.mult(.5)):n.pos.copy(),U=o.createVector(0,1,0);return[x,k,U]}},ie=e=>{let t,o,l,r,a,n,i,s=e.TWO_PI/80,c,d,h,m,P,V=0;e.preload=()=>{o=new E(e,"Roboto",!0),c=e.createSlider(0,80,0),d=e.createSlider(0,100,0)},e.setup=()=>{e.createCanvas(F-N*1.5,F-N*1.5,e.WEBGL),e.noStroke(),e.frameRate(10),e.textFont(o.regular()),t=e.createCamera(),e.perspective(e.PI/2,e.width/e.height,.1,3e3);let f=e.createVector(-800,0,0);l=new H(e,f,100,0),r=new A(e,null,60,0),a=new C(e,null,15,0);let u=1600;n=new S(e,l,r,u,e.createVector(0,-1,0)),n.rev=-e.HALF_PI;let w=e.createVector(0,-1,0);i=new S(e,r,a,200,w),i.setOrbitAngle(e.HALF_PI),i.showPrimary=!1,i.showOrbit(),c.size(e.width-10),d.size(e.height-10),d.style("transform","rotate(-90deg)"),d.style("transform-origin","left top"),n.render(),[h,m,P]=y(),O(t,h,m,P)},e.draw=()=>{e.background(0),e.randomSeed(1);let f=e.canvas.getBoundingClientRect();c.position(f.left+window.scrollX+2,f.top+window.scrollY+e.height+10),d.position(f.right+window.scrollX+10,f.top+window.scrollY+e.height-4),n.render(),i.render(),V=c.value(),r.rot=-V*s;let u=e.createVector(-300,-1e3,-300),w=e.createVector(0,0,0),g=e.createVector(-1,0,-1).normalize(),b=v(e,h,u,d),x=v(e,m,w,d),L=v(e,P,g,d);O(t,b,x,L),W(e)&&e.mouseIsPressed?(i.revolve(s),a.rotate(1)):(e.textFont(o.italic()),I(e,t,"Hold mouse to move Moon",4,[0,90])),r.drawPerson(!0),e.fill(200),e.textFont(o.regular()),I(e,t,Z(V),6,[0,-90])},e.stopAnimation=()=>{},e.hideSlider=()=>{c&&c.hide(),d&&d.hide()},e.showSlider=()=>{c&&c.show(),d&&d.show()};function y(){let f=l.pos.copy().sub(r.pos),u=f.copy().normalize(),w=e.createVector(0,1,0),g=u.copy().cross(w),b=r.pos.copy();b.sub(u.mult(300)).sub(w.mult(50)).add(g.mult(150));let x=r.pos.copy().add(f.mult(.1)),L=e.createVector(0,1,0);return[b,x,L]}},ce={moonPhases:re,moonRevolve:le,moonQuarters:ae,quarterView0:z(0,!1),quarterView1:z(1,!1),quarterView2:z(2,!1),quarterView3:z(3,!1),waxingCrescent:z(.5,!1),waxingGibbous:z(1.5,!1),waningGibbous:z(2.5,!1),waningCrescent:z(3.5,!1),phaseView:z(0,!0),lunarEclipse:ne,solarEclipse:se,allEcliptic:G(!1),moonTilt:G(!0),timeViewNew:q(0,0),timeViewFull:q(2,40),everythingView:ie},_={};function de(e){if(_[e]){const t=_[e],o=document.getElementById(e).querySelector("canvas");o&&(o.style.display="block"),t.loop(),t.showSlider&&t.showSlider()}else{const t=ce[e];_[e]=new p5(t,e)}}function ue(e){if(_[e]){const t=_[e];t.hideSlider&&t.hideSlider(),t.stopAnimation&&t.stopAnimation();const o=document.getElementById(e).querySelector("canvas");o&&(o.style.display="none"),t.noLoop()}}function he(e){e.forEach(t=>{const o=t.target.id;t.isIntersecting?de(o):ue(o)})}const me=new IntersectionObserver(he,{root:null,rootMargin:"500px",threshold:0});document.querySelectorAll(".sketch-container").forEach(e=>{me.observe(e)});
